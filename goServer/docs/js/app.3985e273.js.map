{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4d2b","webpack:///./src/components/draw.vue?249e","webpack:///src/components/draw.vue","webpack:///./src/components/draw.vue?725e","webpack:///./src/components/draw.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/draw.vue?2720"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Appvue_type_template_id_57b4443f_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","drawvue_type_template_id_11ddf514_scoped_true_render","staticClass","_m","_l","tab","label","icon","primary","backgroundColor","on","click","$event","tabfun","fun","chooseColorBtn","color","hex","setColor","directives","rawName","expression","ref","href","download","staticStyle","position","z-index","top","ok","cancel","falseColor","model","callback","$$v","_e","_v","_s","penSize","step","max","lineType","$set","tool","class","selected","ischoose","title","leftIcon","drawType","style","width","canvasSize","height","cursor","curcursor","drawvue_type_template_id_11ddf514_scoped_true_staticRenderFns","drawvue_type_script_lang_js_","screen","availWidth","availHeight","canvas","$refs","canvasTop","canvasLeft","context","canvas_bak","context_bak","ischoosecolor","toolsToggle","hsl","h","a","hsv","v","rgba","g","b","canDraw","cancelList","cancelIndex","tools","tabs","methods","initCanvas","document","getElementById","getContext","pen","draw_graph","chooseImg","obj","clearContext","downloadImage","graphType","startX","startY","_this","zIndex","mousedown","e","strokeStyle","lineWidth","event","clientX","clientY","moveTo","beginPath","lineTo","stroke","clearRect","mouseup","image","Image","src","toDataURL","onload","drawImage","saveImageToAry","x","y","mousemove","setLineDash","radii","Math","sqrt","arc","PI","fillStyle","fill","mouseout","onmousedown","onmousemove","onmouseup","onmouseout","type","_this2","index","url","next","_this3","dataUrl","handleDragOver","evt","stopPropagation","preventDefault","isImage","handleFileSelect","_this4","f","files","dataTransfer","reader","FileReader","isImg","target","readAsDataURL","initDrag","dragDiv","addEventListener","addkeyBoardlistener","_this5","_arguments","arguments","onkeydown","callee","caller","keyCode","ctrlKey","components","PhotoshopPicker","vue_color_min","mounted","_this6","components_drawvue_type_script_lang_js_","component","componentNormalizer","options","__file","draw","Appvue_type_script_lang_js_","Draw","src_Appvue_type_script_lang_js_","App_component","App","Vue","config","productionTip","use","MuseUI","render","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_style_index_0_id_11ddf514_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_style_index_0_id_11ddf514_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.3985e273.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Draw')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('div',{staticClass:\"header\"},[_vm._m(0),_c('div',{staticClass:\"nav\"},[_vm._l((_vm.tabs),function(tab){return _c('mu-flat-button',{key:tab.name,staticClass:\"tab demo-flat-button\",attrs:{\"label\":tab.name,\"icon\":tab.icon,\"primary\":\"\",\"backgroundColor\":\"#FFFFFF\"},on:{\"click\":function($event){_vm.tabfun(tab.fun)}}})}),_c('mu-flat-button',{staticClass:\"tab demo-flat-button\",attrs:{\"label\":_vm.chooseColorBtn,\"icon\":\"color_lens\",\"primary\":\"\",\"backgroundColor\":\"#FFFFFF\",\"color\":_vm.color.hex},on:{\"click\":function($event){_vm.setColor()}}}),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"download\",attrs:{\"href\":\"javascript:void(0);\",\"download\":\"picture.png\"}})],2),(_vm.ischoosecolor)?_c('PhotoshopPicker',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"10\",\"top\":\"56px\"},on:{\"ok\":function($event){_vm.setColor()},\"cancel\":function($event){_vm.falseColor()}},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}}):_vm._e()],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content-left\"},[_c('div',{staticClass:\"setterSize\"},[_c('span',[_vm._v(\"线条粗细:\"+_vm._s(_vm.penSize))]),_c('mu-slider',{attrs:{\"step\":1,\"max\":30},model:{value:(_vm.penSize),callback:function ($$v) {_vm.penSize=$$v},expression:\"penSize\"}}),_c('span',[_vm._v(\"虚线长度:\"+_vm._s(_vm.lineType[0]))]),_c('mu-slider',{attrs:{\"step\":1,\"max\":100},model:{value:(_vm.lineType[0]),callback:function ($$v) {_vm.$set(_vm.lineType, 0, $$v)},expression:\"lineType[0]\"}}),_c('span',[_vm._v(\"虚线间距:\"+_vm._s(_vm.lineType[1]))]),_c('mu-slider',{attrs:{\"step\":1,\"max\":100},model:{value:(_vm.lineType[1]),callback:function ($$v) {_vm.$set(_vm.lineType, 1, $$v)},expression:\"lineType[1]\"}})],1),_c('mu-paper',_vm._l((_vm.tools),function(tool){return _c('mu-menu',{key:tool.name},[_c('mu-menu-item',{class:{'selected':tool.ischoose},attrs:{\"title\":tool.name,\"leftIcon\":tool.icon},on:{\"click\":function($event){_vm.drawType(tool)}}})],1)}),1)],1),_c('div',{staticClass:\"content-right\"},[_c('div',{staticClass:\"body\",style:({width:_vm.canvasSize.width + 'px',height: _vm.canvasSize.height + 'px' })},[_c('canvas',{ref:\"canvas\",style:({cursor:_vm.curcursor}),attrs:{\"id\":\"canvas\"}}),_c('canvas',{ref:\"canvas_bak\",style:({cursor:_vm.curcursor}),attrs:{\"id\":\"canvas_bak\"}})])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('span',[_vm._v(\"Drawing\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"layout\">\n    <div class=\"header\">      \n      <div class=\"logo\">\n        <span>Drawing</span>\n        </div>\n      <div class=\"nav\">\n        <mu-flat-button v-for=\"tab in tabs\" :key=\"tab.name\" :label=\"tab.name\" class=\"tab demo-flat-button\" :icon=\"tab.icon\" @click=\"tabfun(tab.fun)\"  primary backgroundColor=\"#FFFFFF\"/>\n        <mu-flat-button :label=\"chooseColorBtn\" class=\"tab demo-flat-button\" icon=\"color_lens\" @click=\"setColor()\"  primary backgroundColor=\"#FFFFFF\" :color=\"color.hex\"/>\n        <a href=\"javascript:void(0);\" ref=\"download\" download=\"picture.png\" v-show=\"false\"></a>        \n      </div>\n      <PhotoshopPicker v-model=\"color\" v-if=\"ischoosecolor\" style=\"position:absolute;z-index:10;top:56px;\" @ok=\"setColor()\" @cancel=\"falseColor()\"/>\n    </div>\n    <div class=\"content\">\n      <div class=\"content-left\">\n        <div class=\"setterSize\">\n          <span>线条粗细:{{penSize}}</span>\n          <mu-slider v-model=\"penSize\" :step=\"1\" :max=\"30\"/>\n          <span>虚线长度:{{lineType[0]}}</span>\n          <mu-slider v-model=\"lineType[0]\" :step=\"1\" :max=\"100\"/>\n          <span>虚线间距:{{lineType[1]}}</span>\n          <mu-slider v-model=\"lineType[1]\" :step=\"1\" :max=\"100\"/> \n        </div>\n        <mu-paper>\n          <mu-menu v-for=\"tool in tools\" :key=\"tool.name\">\n            <mu-menu-item :title=\"tool.name\" :leftIcon=\"tool.icon\" @click=\"drawType(tool)\" :class=\"{'selected':tool.ischoose}\"/>\n          </mu-menu>\n        </mu-paper>        \n      </div>\n      <div class=\"content-right\">\n        <div class=\"body\" :style=\"{width:canvasSize.width + 'px',height: canvasSize.height + 'px' }\">\n            <canvas id=\"canvas\" ref=\"canvas\" :style=\"{cursor:curcursor}\"></canvas>\n            <canvas id=\"canvas_bak\" ref=\"canvas_bak\" :style=\"{cursor:curcursor}\"></canvas>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Photoshop } from 'vue-color'\n\nexport default {\n  name: 'draw',\n  data () {\n    return {\n      canvasSize: {\n        width: window.screen.availWidth - 320,\n        height: window.screen.availHeight * 0.75\n      },\n      canvas: this.$refs.canvas,\n      canvasTop: 67,\n      canvasLeft: 300,\n      context: null,\n      canvas_bak: this.$refs.canvas_bak,\n      context_bak: null,\n      ischoosecolor: false,\n      toolsToggle: false,\n      chooseColorBtn: '选择颜色',\n      color: {\n        hex: '#2196f3',\n        hsl: {\n          h: 205,\n          s: 86,\n          l: 0,\n          a: 1\n        },\n        hsv: {\n          h: 205,\n          s: 86,\n          v: 92,\n          a: 1\n        },\n        rgba: {\n          r: 33,\n          g: 150,\n          b: 243,\n          a: 1\n        },\n        a: 1\n      },      \n      penSize: 1,      \n      lineType: [0, 0],\n      canDraw: false,\n      curcursor: 'auto',\n      cancelList: [],\n      cancelIndex: 0,\n      tools: [{\n          name: '铅笔',\n          icon: 'mode_edit',\n          fun: 'pencil',\n          ischoose: false,\n        }, {\n          name: '直线',\n          icon: 'remove',\n          fun: 'line',\n          ischoose: false\n        }, {\n          name: '圆形',\n          icon: 'panorama_fish_eye',\n          fun: 'circle',\n          ischoose: false\n        }, {\n          name: '矩形',\n          icon: 'crop_square',\n          fun: 'square',\n          ischoose: false\n        }, {\n          name: '涂鸦',\n          icon: 'brush',\n          fun: 'handwriting',\n          ischoose: false\n        }, {\n          name: '橡皮',\n          icon: 'border_style',\n          fun: 'rubber',\n          ischoose: false\n        }],\n      tabs: [{\n          name: '清除',\n          icon: 'clear',\n          fun: 'clear'\n        }, {\n          name: '保存',\n          icon: 'system_update_alt',\n          fun: 'save'\n        }]\n    }\n  },\n  methods: {\n    initCanvas () {\n      this.canvas =  document.getElementById(\"canvas\")\n      this.canvas.width = this.canvasSize.width\n      this.canvas.height = this.canvasSize.height\n      this.context = this.canvas.getContext('2d')\n      this.canvas_bak =  document.getElementById(\"canvas_bak\")\n      this.canvas_bak.width = this.canvasSize.width\n      this.canvas_bak.height = this.canvasSize.height\n      this.context_bak = this.canvas_bak.getContext('2d')\n    },\n    setColor () {\n      this.chooseColorBtn = this.ischoosecolor ? '选择颜色':'确认选择'\n      this.ischoosecolor = this.ischoosecolor ? false : true\n    },\n    falseColor() {\n      this.ischoosecolor = false\n    },\n    drawType (pen) {\n      switch (pen.fun) {\n        case 'pencil':\n            this.curcursor = \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAZ0lEQVR4AdXOrQ2AMBRF4bMc/zOUOSrYoYI5cQQwpAieQDW3qQBO7Xebxx8bWAk5/CASmRHzRHtB+d0Bkw0W5ZiT0SYbFcl6u/2eeJHbxIHOhWO6Er6/y9syXpMul5PLefAGKZ1/rwtTimwbWLpiCgAAAABJRU5ErkJggg==') 3 24,  auto\"\n            break\n        case 'rubber':\n        this.curcursor = 'pointer'\n        break\n        case 'circle':\n        case 'square':\n        case 'line':\n        case 'handwriting':\n        this.curcursor = 'crosshair'\n        break          \n        default:\n        this.curcursor = 'auto'\n          break;\n      }  \n      this.draw_graph(pen.fun)\n      this.chooseImg(pen)\n    },\n    //选择功能按钮 修改样式\n    chooseImg(obj){\n        for (let i = 0; i < this.tools.length; i++) {\n          this.tools[i].ischoose = false\n        }\n        obj.ischoose = true        \n    },\n    tabfun(fun) {\n      if(fun === 'clear' ){\n        this.clearContext('1')\n      }else if(fun === 'save' ){\n        this.downloadImage()\n      }\n    },\n    draw_graph (graphType) {    \n        this.canvas_bak.style.zIndex = 1\n        //先画在蒙版上 再复制到画布上       \n        this.canDraw = false      \n        let startX,startY\n      //鼠标按下获取 开始xy开始画图\n        let mousedown = (e) => {\n          this.context.strokeStyle = this.color.hex\n          this.context_bak.strokeStyle = this.color.hex\n          this.context_bak.lineWidth = this.penSize\n          e=e||window.event\n          startX = e.clientX - this.canvasLeft\n          startY = e.clientY - this.canvasTop\n          this.context_bak.moveTo(startX, startY)\n          this.canDraw = true\n        if(graphType == 'pencil'){\n          this.context_bak.beginPath()\n        }else if(graphType == 'circle'){\n          this.context.beginPath()\n          this.context.moveTo(startX, startY)\n          this.context.lineTo(startX + 2, startY + 2)\n          this.context.stroke()\n        }else if(graphType == 'rubber'){\n          this.context.clearRect(startX - this.penSize * 10, startY - this.penSize * 10, this.penSize * 20, this.penSize * 20)\n        }\n      }\n      //鼠标离开 把蒙版canvas的图片生成到canvas中\n      let mouseup = (e) => {\n        e=e||window.event\n        this.canDraw = false\n        let image = new Image()\n        if (graphType!='rubber') {          \n          image.src = this.canvas_bak.toDataURL()\n          image.onload = () => {\n            this.context.drawImage(image, 0, 0, image.width, image.height, 0, 0, this.canvasSize.width, this.canvasSize.height)\n            this.clearContext()\n            this.saveImageToAry()\n          }\n          let x = e.clientX - this.canvasLeft\n          let y = e.clientY - this.canvasTop\n          this.context.beginPath()\n          this.context.moveTo(x, y)\n          this.context.lineTo(x + 2, y + 2)\n          this.context.stroke()\n        }\n      }\n      // 鼠标移动\n      let mousemove = (e) => {\n        e=e||window.event\n        let x = e.clientX - this.canvasLeft\n        let y = e.clientY - this.canvasTop\n        this.context_bak.setLineDash(this.lineType)\n        //方块  即4条直线\n        if (graphType == 'square') {\n          if (this.canDraw) {\n            this.context_bak.beginPath()\n            this.clearContext()\n            this.context_bak.moveTo(startX, startY)\n            this.context_bak.lineTo(x, startY)\n            this.context_bak.lineTo(x, y)\n            this.context_bak.lineTo(startX, y)\n            this.context_bak.lineTo(startX, startY)\n            this.context_bak.stroke()\n          }\n        //直线\n        } else if (graphType =='line' ){\n          if (this.canDraw) {\n            this.context_bak.beginPath()\n            this.clearContext()\n            this.context_bak.moveTo(startX, startY)\n            this.context_bak.lineTo(x, y)\n            this.context_bak.stroke()\n          }\n        //画笔\n        } else if (graphType == 'pencil') {\n          if (this.canDraw) {\n            this.context_bak.lineTo(e.clientX   - this.canvasLeft ,e.clientY  - this.canvasTop)\n            this.context_bak.stroke()\n          }\n        //圆 未画得时候 出现一个小圆\n        } else if (graphType == 'circle') {\n          this.clearContext()\n          if (this.canDraw) {           \n            this.context_bak.beginPath()\n            let radii = Math.sqrt((startX - x) * (startX - x)  + (startY - y) * (startY - y))\n            this.context_bak.arc(startX,startY,radii,0,Math.PI * 2,false)\n            this.context_bak.stroke()\n          } else {\n            this.context_bak.beginPath()\n            this.context_bak.arc(x, y, 20, 0, Math.PI * 2, false)\n            this.context_bak.stroke()\n          }\n        //涂鸦 未画得时候 出现一个小圆\n        } else if (graphType == 'handwriting') {\n          if (this.canDraw) {\n            this.context_bak.beginPath()\n            this.context_bak.strokeStyle = this.color.hex\n            this.context_bak.fillStyle  = this.color.hex\n            this.context_bak.arc(x, y, this.penSize*10 ,0, Math.PI * 2, false)\n            this.context_bak.fill()\n            this.context_bak.stroke()\n          } else {\n            this.clearContext()\n            this.context_bak.beginPath()\n            this.context_bak.fillStyle = this.color.hex\n            this.context_bak.arc(x, y, this.penSize*10, 0, Math.PI * 2,false)\n            this.context_bak.fill()\n            this.context_bak.stroke()\n          }\n        //橡皮擦 不管有没有在画都出现小方块 按下鼠标 开始清空区域\n        } else if (graphType == 'rubber'){\n          this.context_bak.setLineDash([0, 0])          \n          this.context_bak.lineWidth = 1\n          this.clearContext()\n          this.context_bak.beginPath()\n          this.context_bak.strokeStyle = '#000000'\n          this.context_bak.moveTo(x - this.penSize * 10,  y - this.penSize * 10 )\n          this.context_bak.lineTo(x + this.penSize * 10, y - this.penSize * 10 )\n          this.context_bak.lineTo(x + this.penSize * 10, y + this.penSize * 10 )\n          this.context_bak.lineTo(x - this.penSize * 10, y + this.penSize * 10 )\n          this.context_bak.lineTo(x - this.penSize * 10, y - this.penSize * 10 )\n          this.context_bak.stroke()\n          if (this.canDraw) {\n            this.context.clearRect(x - this.penSize * 10,  y - this.penSize * 10, this.penSize * 20, this.penSize * 20)\n          }\n          this.context_bak.setLineDash(this.lineType)\n        }\n      }\n      //鼠标离开区域以外 除了涂鸦 都清空\n      let mouseout = () => {\n        if (graphType != 'handwriting') {\n          this.clearContext()\n        }\n      }\n      this.canvas_bak.onmousedown = () => mousedown()\n      this.canvas_bak.onmousemove = () => mousemove()\n      this.canvas_bak.onmouseup = () => mouseup()\n      this.canvas_bak.onmouseout = () => mouseout()\n\n    },\n    clearContext (type) {\n      if (!type) {\n        this.context_bak.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height)\n      } else {\n        this.context.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height)\n        this.context_bak.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height)\n      }\n    },\n    downloadImage () {\n      this.$refs.download.href = this.canvas.toDataURL()\n      this.$refs.download.click()\n    },\n    cancel () {\n      this.cancelIndex++\n      this.context.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height)\n      let image = new Image()\n      let index = this.cancelList.length-1 - this.cancelIndex\n      let url = this.cancelList[index]\n      image.src = url\n      image.onload = ()=> {\n        this.context.drawImage(image , 0, 0, image.width, image.height, 0, 0, this.canvasSize.width, this.canvasSize.height)\n      }\n    },\n    next () {\n      this.cancelIndex--\n      this.context.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height)\n      let image = new Image()\n      let index = this.cancelList.length-1 - this.cancelIndex\n      let url = this.cancelList[index]\n      image.src = url\n      image.onload = () => {\n        this.context.drawImage(image, 0, 0, image.width, image.height, 0, 0, this.canvasSize.width, this.canvasSize.height)\n      }\n    },\n    //保存历史 用于撤销\n    saveImageToAry () {\n      this.cancelIndex = 0\n      let dataUrl =  this.canvas.toDataURL()\n      this.cancelList.push(dataUrl)   \n    },\n    // 处理文件拖入事件，防止浏览器默认事件带来的重定向  \n    handleDragOver (evt) {  \n      evt.stopPropagation()\n      evt.preventDefault()\n    },\n    isImage (type) {  \n      switch (type) {        \n      case 'image/jpeg':\n      case 'image/png':\n      case 'image/gif':\n      case 'image/bmp':\n      case 'image/jpg':\n        return true\n      default:\n        return false\n      }  \n    },\n    // 处理拖放文件列表  \n    handleFileSelect (evt) {\n      evt.stopPropagation()\n      evt.preventDefault()\n      let files = evt.dataTransfer.files\n      for (let i = 0, f; (f = files[i]); i++) {\n        let t = f.type ? f.type : 'n/a'\n        let reader = new FileReader()\n        let isImg = this.isImage(t)\n        // 处理得到的图片\n        if (isImg) {\n          reader.onload = (() =>  {\n            return (e) => {\n              let  image = new Image()\n              image.src =  e.target.result\n              image.onload = ()=> {\n                this.context.drawImage(image, 0, 0, image.width, image.height, 0, 0, this.canvasSize.width, this.canvasSize.height)\n              }\n            }\n          })(f)\n          reader.readAsDataURL(f)\n        }\n      }\n    },\n     //初始化拖入效果\n    initDrag () {\n      let dragDiv  = document.getElementById(\"canvas_bak\")\n      dragDiv.addEventListener('dragover', this.handleDragOver, false) \n      dragDiv.addEventListener('drop', this.handleFileSelect, false)\n    },\n    addkeyBoardlistener () {\n      document.onkeydown = (event) => {   \n        let e = event || window.event || arguments.callee.caller.arguments[0]\n        if (e.keyCode === 89 && e.ctrlKey) {\n          //ctrl+Y\n          this.next()\n        }\n        if (e.keyCode === 90 && e.ctrlKey) {\n          // ctrl+Z\n          this.cancel()\n        }\n      }\n    }\n  },\n  components: {\n    'PhotoshopPicker': Photoshop\n  },\n  mounted () {\n    this.initCanvas()\n    this.initDrag()\n    this.addkeyBoardlistener()\n    this.drawType(this.tools[0])\n    this.canvas_bak.addEventListener('click', this.falseColor)\n    window.addEventListener('resize', () => {\n      this.canvasSize = {\n        width: window.screen.availWidth - 320,\n        height: window.screen.availHeight * 0.75\n      }\n    })\n  }\n}\n</script>\n<style scoped>\n* {\n  -webkit-user-select: none;\n  -moz-user-select: none; \n  -ms-user-select: none; \n  user-select: none;\n}\n\ncanvas {\n  position: absolute;\n  z-index : 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height:100%;  \n}\n\n.layout {\n  background-color: rgb(236, 236, 236);\n  height: 100%;\n}\n\n.header {\n  background-color: #2196f3;\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  font-size: 24px;\n  color: white;\n  padding: 10px 20px;\n}\n\n.nav {\n  display: flex;\n  width: calc(100% - 150px);\n  margin: 0 auto;\n}\n\n.content {\n  overflow: hidden;\n  width: 100%;\n  height: calc(100vh - 56px);\n  display: flex;\n}\n\n.content-left {\n  width: 280px;\n  background-color: white;\n}\n\n.content-right {\n  width: calc(100% - 280px);\n  height: 100%;\n  padding: 10px 20px;\n  background-color: rgba(0, 0, 0, 0)\n}\n\n.body {\n  position: relative;\n  background-color: white;\n  border-radius: 5px;\n  height:100%;\n  margin: 0 auto;\n}\n\n.setterSize {\n  padding: 5%;\n  font-size: 0.5rem;\n}\n\n.selected {\n  background: rgba(0,0,0,0.35)!important;\n}\n\n.tab {\n  margin-right: 5px\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./draw.vue?vue&type=template&id=11ddf514&scoped=true&\"\nimport script from \"./draw.vue?vue&type=script&lang=js&\"\nexport * from \"./draw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./draw.vue?vue&type=style&index=0&id=11ddf514&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11ddf514\",\n  null\n  \n)\n\ncomponent.options.__file = \"draw.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Draw></Draw>\n  </div>\n</template>\n\n<script>\nimport Draw from './components/draw'\n\nexport default {\n  name: 'app',\n  components: {\n    Draw\n  }\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=57b4443f&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport MuseUI from 'muse-ui'\nimport 'muse-ui/dist/muse-ui.css'\nimport 'muse-ui/dist/theme-light.min.css'\n\nVue.config.productionTip = false\nVue.use(MuseUI)\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=style&index=0&id=11ddf514&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=style&index=0&id=11ddf514&scoped=true&lang=css&\""],"sourceRoot":""}